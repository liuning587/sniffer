(function(){var B={Version:"7.5.5900.27885"},g,p;"undefined"!==typeof window?(g=window.sfx,p=window.cfx):(g=require("./jchartfx.system.js"),p=g.cfx,module.exports=B);p.funnel=B;var C=function F(){F._ic();this.b=this.c=0};C.prototype={_0dM:function(p,c){p.x==c.x?(this.b=p.x,this.c=g.D.e):(this.b=(c.y-p.y)/(c.x-p.x),this.c=c.y-this.b*c.x);return this},a:function(p){return 0==this.b?0:g.D.h(this.c)?this.b:(p-this.c)/this.b}};C._dt("CWGF",g.SA,0);var q=function c(){c._ic();this.r=null;this.q=!1;this.x=
this.e=this.f=this.a=null;this.b=this.u=this.c=this.d=0;this._0_1()};B.Funnel=q;q.prototype={_0_1:function(){this.o=4;this.l=-1;this.p=5;this.h=30;this.k=10;this.v=!0;this.m=this.g=!1;this.n=(new p.Line)._01_2(9);this.E();return this},getConic:function(){return this.q},setConic:function(c){this.q=c;this.i()},getFaces:function(){return this.o},setFaces:function(c){this.o=g.a.o(c,3);this.i()},getLabelInside:function(){return this.g},setLabelInside:function(c){this.g=c;this.i()},getLabelLine:function(){return this.n},
getLabelLineAsSeries:function(){return this.m},setLabelLineAsSeries:function(c){this.m=c;this.i()},getSeparation:function(){return-1!=this.l?this.l:this.p},setSeparation:function(c){this.l=c;this.i()},getTemplate:function(){return null==this.a?"":this.a.u()},setTemplate:function(c){this.x=c;null==c?this.a=null:(null==this.a&&(this.a=(new p._Zt)._0_Zt()),this.a.su(c));this.C()},getTipHeight:function(){return this.h},setTipHeight:function(c){this.h=c},getTipWidth:function(){return this.k},setTipWidth:function(c){this.k=
c},icW:function(c,b,a,g){switch(b){case 4:return 1;case 11:return this.z(a);case 12:return!0;case 18:return 1}return null},icX:function(c){return 1},icY:function(c){return 142622977},F:function(c,b){var a=~~((b.x+b.g())/2),h=this.k*b.w/100;this.d=a-h/2;this.c=a+h/2;a=b.h-this.getSeparation()*(c.a.d.iaL()-1);this.b=b.c()-a*this.h/100;this.u=c.bL*this.h/100;a=b.y;this.f=(new C)._0dM((new g.e)._01e(b.x,a),(new g.e)._01e(this.d,this.b));this.e=(new C)._0dM((new g.e)._01e(b.g(),a),(new g.e)._01e(this.c,
this.b))},E:function(){if(void 0!=p._Zt){var c=p.eS.i("Funnel",!0);null!=c&&this.setTemplate(c)}},D:function(c,b){var a=!1,h=b[0].y,f=b[2].y,d=b;if(c.by<this.u||0==c.bL){if(h<this.b&&b[2].x==b[3].x)return d=g.e._ca(6),d[0]._i1(this.e.a(h),h),d[1]._i1(this.f.a(h),h),d[2]._i1(this.f.a(this.b),this.b),d[3]._i1(d[2].x,f),d[5]._i1(this.e.a(this.b),this.b),d[4]._i1(d[5].x,f),d;b[0]._i1(this.d,h);b[1]._i1(this.c,h);a=!0}c.aZ<this.u?(b[2]._i1(this.c,f),b[3]._i1(this.d,f)):a&&this.b<f?(d=g.e._ca(6),d[0]._i1(this.e.a(h),
h),d[1]._i1(this.f.a(h),h),d[2]._i1(this.d,this.b),d[3]._i1(this.d,f),d[4]._i1(this.c,f),d[5]._i1(this.c,this.b)):(b[0]._i1(this.e.a(h),h),b[1]._i1(this.f.a(h),h),b[2]._i1(this.f.a(f),f),b[3]._i1(this.e.a(f),f));return d},C:function(){this.p=5;if(null!=this.a){var c=this.a.bG();null!=c&&(c=c.a("cfxDefSeparation"),c=g.V.D(c,g.b),null!=c&&(this.p=g.u.e(c)))}},icZ:function(c,b,a){c.a=1;c.b=0;var h=a.g(256);h&&(a.bg=!0);c=a.a.d.iaL();b=a.k._nc();b.w-=a.a.p;b.y+=a.a.p;b.h-=a.a.p;if(a.b.a.a&&!this.g){for(var f=
0,d=0;d<c;d++){a.M=a.ad.getItem(a.d,d);var w=a.bT(),w=a.c.idT(w,a.P).w,f=g.a.o(f,w)}f+=8;2!=a.b.a.g&&(b.x+=f);b.w-=f}var f=b.h,w=b.w,m=this.getSeparation(),n=(f-m*(c-1))*b.w/2,e=f/w,l=983040|a.b.m,k=!1;h?k=!0:(l|=134217728,k=!1);0!=m&&(l|=3145728);var r=0,x=0,q=0,d=0,r=-f,x=-1,q=b.c(),d=b.y,t=new p.ba,v=new p.ba;t.b=b.x;t.a=d+x*m;t.c=0;v.b=b.g();v.a=q-x*m;v.c=a.a.i;var C=~~((b.g()+b.x)/2);90<a.f.ib5()?(a.D=-1,a.o=c-1,a.e=a.o,a.q=0):(a.D=1,a.o=0,a.e=a.o,a.q=c-1);var h=h?this.o:4,u=0,z=0,y=a.W,B=a.X;
if(B){for(d=y=0;d<c;d++)a.az(a.d,d,!1),u=a.ad.getItem(a.d,d)*a.a0,y+=u;if(0==y)return}a.bL=y;this.F(a,b);for(d=a.by=0;d<c;d++){a.ai();if(B){if(0==a.a0){a.ah(0,1);continue}a.M*=a.a0;z+=a.M}else z=a.G;a.aZ=z;if(0!=a.M&&1E108!=a.M){0>a.D?(this.v?u=f-z/y*f:(u=n-z*n/y,u=g.a.u(g.a.d(2*u*e))),v.a=t.a-x*m,t.a=q+x*u):(this.v?u=z/y*f:(u=z*n/y,u=g.a.u(g.a.d(2*u*e))),t.a=v.a+x*m,v.a=q+x*u);var u=b.y-v.a,D=0;a.g(33554432)&&(D|=1);a.az(a.d,a.e,!1);a.R(!0);a.aF(a.d,a.e);var E=l;d==c-1&&(E|=3145728);k?this.q?a.f.ib9(a.c,
t,v,a.z,a.v,null,E,D,r,u):a.f.ick(a.c,t,v,a.z,a.v,null,E,D,r,u,h):this.A(a.c,t,v,D,r,u,a);u=a.M/y;a.b.a.a&&this.B(a,w,f,t,v,C,q,u,b);a.by=z}a.ah(0,1)}a.Y-=c-1;a.e=a.q;null!=this.a&&this.a._dispose1(!1)},B:function(c,b,a,h,f,d,w,m,n){if(!c.X){var e=new p.ba,l=c.b.a._nc();m=l.g;l=l.d;c.g(256)&&(m=0);switch(l){case 0:e.a=f.a;break;case 2:e.a=h.a;break;default:e.a=~~((h.a+f.a)/2)}h=c.bT();this.g?1!=m?(n=q.j(e.a-w,~~(b/2),a),e.b=0==m?d-n:d+n,e.b=2==m?e.b-~~(c.aQ/2):e.b+~~(c.aQ/2)):e.b=d:(b=d=0,2==m?(e.b=
n.g(),b=-2,d=e.a>this.b?this.c:this.e.a(e.a),d+=4,m=0):(e.b=n.x,b=2,d=e.a>this.b?this.d:this.f.a(e.a),d-=4,m=2),0!=this.n.d?(n=g.m.b._nc(),this.m&&n._cf(c.v.d()),n=this.n.c(n._nc()),c.c.idp(n,d,e.a,e.b+b,e.a),n._d()):e.b=d,l=1);e.c=~~(c.a.i/2);e=c.f.icj(e);h=c.a8(c.j,h);c.bE(h,e._nc(),m,l,this.g,0)}},A:function(c,b,a,h,f,d,w){var m=null,n=null,m=n=null,e=0,l=0,k=h=0,r=0,x=0,k=k=l=e=0,n=new p.ba,k=new p.ba;n._cf(b);k._cf(a);n=p.ba._ca(4);m=p.ba._ca(4);p.ba._ca(4);k=~~((b.b+a.b)/2);r=~~((b.c+a.c)/2);
x=a.a-b.a;e=a.b-b.b;l=a.c-b.c;e=~~(e/2);l=~~(l/2);if(0!=f){var A=0,t=0,A=q.j(d,e,f),t=q.j(d,l,f),v=new g._p1(h);q.t(v,4,k,a.a,r,e-A,l-t,n,-1);h=v.a;A=q.j(d+x,e,f);t=q.j(d+x,l,f);v.a=h;q.t(v,4,k,b.a,r,e-A,l-t,m,-1)}else{d=new g._p1(h);q.t(d,4,k,a.a,r,e,l,n,a.b);for(k=0;4>k;k++)m[k]._cf(n[k]);for(k=0;4>k;k++)m[k].a=b.a}k=4;d=null;0!=f&&(d=g.e._ca(k),d[0].x=n[1].b,d[0].y=a.a,d[1].x=n[3].b,d[1].y=a.a,d[2].y=b.a,d[2].x=m[3].b,d[3].x=m[1].b,d[3].y=b.a);if(a.a!=b.a){d=this.D(w,d);h=g.d.b._nc();f=null;if(null!=
this.a){c=this.a.id().L.A;n=c.length;for(k=0;k<n;k++)switch(r=c[k],r.bA()){case "P":case "PointsPolygon":r.sb(d);break;case "X":r.sb(g.a.p(b.b,a.b));break;case "W":r.sb(g.a.d(a.b-b.b));break;case "Y":r.sb(g.a.p(b.a,a.a));break;case "H":r.sb(g.a.d(a.a-b.a));break;case "G":case "Geometry":null==f&&(f=(new g.aA)._0aA(),f.z(d));r.sb(f);break;default:this.a.l(r,w,this,h)}b=g.d.b._nc();this.a.v(w.c,b,1,0)}else c.idM(w.z,d),c.idt(w.v,d);null!=f&&f._d()}},i:function(){null!=this.r&&this.r.iag(16777248)},
ieJ:function(c,b){var a=new g._p1(this.o);b.ieY(a,"Faces",4);this.o=a.a;a.a=this.l;b.ieY(a,"Separation",-1);this.l=a.a;a.a=this.h;b.ie0(a,"TipHeight",30);this.h=a.a;a.a=this.k;b.ie0(a,"TipWidth",10);this.k=a.a;a.a=this.x;b.ieS(a,"Template");this.x=a.a;a.a=this.q;b.ie1(a,"Conic",!1);this.q=a.a;a.a=this.g;b.ie1(a,"LabelInside",!1);this.g=a.a;a.a=this.m;b.ie1(a,"LabelLineAsSeries",!1);this.m=a.a},ie7:function(c){this.r=c;this.n.ie7(this.r)},z:function(c){c=c.a;0==c.c&&(c.c=1);0==c.d&&(c.d=1);return null}};
q.j=function(c,b,a){return~~(c*b/a)};q.t=function(c,b,a,h,f,d,p,m,n){var e=0,l=0,k=0,r=k=l=0,q=0,A=0,t=0;b=g.a.o(g.a.d(b),2);b=g.a.p(b,4);t=6.28318530717959/b;r=g.a.t(t);q=g.a.i(t);l=1;for(e=k=0;e<b;e++)m[e].a=h,m[e].b=a+g.a.k(d*k+.5),m[e].c=f+g.a.k(p*l+.5),A=l*q+k*r,k=k*q-l*r,l=A;c.a=t;if(-1!=n){l=g.u.c;k=-1;for(e=0;e<b;e++)m[e].b>l&&(k=e,l=m[e].b);if(-1!=k)for(e=0;e<b;e++)m[e].b==l&&(m[e].b=n)}return b};q._dt("funnel.Funnel",g.SA,0,p.icV,p.ieI,p.ie6);void 0!==p.UserInterface&&p.UserInterface.prototype.galleryMap["1"].push("=funnel.Funnel,Funnel")})();
