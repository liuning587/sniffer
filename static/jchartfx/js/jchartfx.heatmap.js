(function(){var l={Version:"7.5.5900.27885"},d,c;"undefined"!==typeof window?(d=window.sfx,c=window.cfx):(d=require("./jchartfx.system.js"),c=d.cfx,module.exports=l);c.heatmap=l;var m=function v(){v._ic();this.b=this.c=0;this._0_1()};l.ColorGradientStop=m;m.prototype={_0_1:function(){this.d=new d.m;this.a=new d.m;return this},getColor:function(){return this.d},setColor:function(c){c=d.m._t(c);this.d._cf(c);this.a._cf(c)},getOffset:function(){return this.c},setOffset:function(d){this.c=d},ieJ:function(c,
t){t.ieT("Color",this.d);var a=new d._p1(this.c);t.ie0(a,"Offset",0);this.c=a.a}};m._dt("heatmap.ColorGradientStop",d.SA,0,c.ieI);var p=function t(){t._ic()};l.ColorGradientCollection=p;p.prototype={_0_1:function(){this.a=(new d._L)._0_L();return this},getCount:function(){return this.a.Se()},getItem:function(d){return this.a.So(d)},setItem:function(d,a){this.a.sSo(d,a)},add:function(d){this.a.Si(d)},clear:function(){this.a.clear()},e:function(c){var a=this.a.Se(),e=this.a.So(0);if(c==e.b)return e.a;
for(var b=1;b<a;b++){var g=this.a.So(b),f=g.b;if(f==c)return g.a;if(f>c)return b=f-e.b,a=(c-e.b)/b,c=(f-c)/b,e=e.a._nc(),g=g.a._nc(),d.m.k(e.r*c+g.r*a,e.g*c+g.g*a,e.b*c+g.b*a);e=g}return e.a},Sb:function(){return this.a.getEnumerator()},insert:function(d,a){this.a.Sl(d,a)}};p._dt("heatmap.ColorGradientCollection",d.SA,0,d.Sa);var u=function a(){a._ic();this.d=this.c=null;this.i=this.j=this.b=this.f=this.e=this.u=0;this.n=null;this.q=this.r=this.t=0;this._0_1()};l.HeatMap=u;u.prototype={_0_1:function(){this.a=
(new p)._0_1();this.g=4;var a=new m;a.setColor(d.m.k(192,0,0));this.a.add(a);a=new m;a.setColor(d.m.k(0,192,0));this.a.add(a);this.h=60;this.v();void 0!==c.motif?c._Em("heatmap",this,arguments):1<=arguments.length&&this.setStyle(arguments[0]);return this},getGradientStops:function(){return this.a},ied:function(){return!1},iee:function(){return null},getLegendHeight:function(){return this.g},setLegendHeight:function(a){this.g=a},ief:function(){return!0},getTemplate:function(){return null==this.d?null:
this.d.q},setTemplate:function(a){this.n=a;null==this.d&&(this.d=(new c._Zt)._0_Zt());this.d.su(a)},ic1:function(a,e,b,d){},ieg:function(a){},icq:function(a){this.c=d.V.D(a,c.Chart);null!=this.c&&this.c.getLegendBox().getItemAttributes().getItemList(this.c.getSeries()).setVisible(!1);return!0},ieh:function(a,e,b,d){this.e=0},ic3:function(a){this.l();return!1},iei:function(){return this.m()?1:this.g},iej:function(a){return!1},icW:function(a,e,b,d){switch(e){case 11:return this.p(b);case 13:b.b=1}return null},
k:function(a){return this.c.getAxisY().getDataFormat().b(a)},icX:function(a){return 1},icY:function(a){return 33837056},iek:function(a,e,b,g,f){a.a=!0;f._cf(d.g.b);a=e.idT(this.k(this.f),b).e();this.m()&&(e=e.idT(this.k(this.b),b).e(),this.i=d.a.o(a.w,e.w),a.w=2*this.i+this.h,a.w=.8*g.w,this.h=a.w-2*this.i);return a},v:function(){if(void 0!=c._Zt){var a=c.eS.i("HeatMap",!0);null!=a&&this.setTemplate(a)}},m:function(){var a=this.c.getLegendBox().ibM();return 3==a||1==a},iel:function(a,e,b){a.a=null;
b=0==this.e?this.f:this.b;a.b=0==this.e||this.e==this.g-1?this.k(b):" ";a.c=null;a.d=this.e;var g=this.m(),f=this.g;g&&(f=1);if(this.e>=f)return!1;b=e.c;e.b.d=0;if(0==this.e){var c=e.H,h=e.H+f*e.aQ-e.E,k=e.ao;b.sidc(null);var f=new d.c,q=new d.e,r=new d.e;g?(k+=this.i,r._i1(k,c),q._i1(k+this.h,c),f._i2(k,c,this.h,h-c+2)):(k-=6,q._i1(k,c),r._i1(k,h),f._i2(k,c+1,13,h-c-2));c=(new d.aC)._0aC(q,r,this.a.getItem(1).a,this.a.getItem(0).a);h=this.a.getCount();if(2<h){for(var k=(new d.ax)._01ax(h),q=d.m._ca(h),
r=Array(h),l=0;l<h;l++){var m=this.a.getItem(h-1-l),p=l;q[p]._cf(m.a);r[p]=1-m.b}k.sb(q);k.sc(r);c.sk(k)}e.c.idO(c,f);c._d();c=this.c.iK(13)._nc();0!=(b.ic_()&8)&&(c=b.idd()._Gv("fill",c,"LegendItem",0));c=(new d.ao)._01ao(c);b.idy(c,f);c._d();g&&(g=new d.at,g.sd(1),c=e.b.a.f,e=(new d.ar)._0ar(e.b.a.b),h=~~((f.y+f.c())/2),b.idD(a.b,c,e,f.g()+4,h,g),k=this.k(this.b),g.sb(2),b.idD(k,c,e,f.x-4,h,g),a.b="",e._d(),g._d())}this.e++;return!0},icZ:function(a,e,b){e=b.c;a.b=1;a.a=0;a=0!=(b.u&8);if(b.e==b.o&&
b.d==b.t){0==this.j&&this.l();this.t=~~(b.k.w/(d.a.d(b.q-b.o)+1));this.u=~~(b.k.h/(d.a.d(b.r-b.t)+1));this.r=b.k.x;this.q=b.k.y;for(var g=!0,f=this.a.getCount(),n=e.idc(),h=0;h<f;h++){var k=this.a.getItem(h),l=k.d._nc();if(a){var m=(new c.c5)._01c5("HeatMap"+h.toString());e.sidc(m);l=e.idd()._Gv("fill",l,null,0)}k.a._cf(l);k.b=k.c;0!=k.b&&(g=!1)}a&&e.sidc(n);if(g&&1<f)for(n=g=1/(f-1),h=1;h<f;h++)k=this.a.getItem(h),k.b=n,n+=g}if(!(b.V||b.w<this.b||(h=b.j,g=b.i,f=d.a.k(h.valueToPixel(b.d)),h=d.a.k(h.valueToPixel(b.d+
1)),k=d.a.k(g.valueToPixel(b.e+.5)),g=d.a.k(g.valueToPixel(b.e+1.5)),h<f))){a&&(a=(new c.c5)._01c5(null),n=e.idb().iey(b.c.idc()),a.d=n.ifj(1),a.e=n.ifj(0),e.sidc(a));a=this.a.e((b.w-this.b)/this.j)._nc();a=(new d.ar)._0ar(a);f=(new d.d)._02c(k,f,g-k,h-f);if(null!=this.d){b.z=a;h=this.d.id().L.A;k=h.length;for(g=0;g<k;g++)this.d.l(h[g],b,this,f);this.d.v(e,f,1,0)}else e.idP(a,f);b.b.a.a&&(b.F=0,b.aq=0,b.n.b=f.x+f.w/2,b.n.a=f.y,b.ae=f.y+f.h,b.O=1,b.aj=1,b.b.a.d=1,b.b.a.n=1);a._d()}},l:function(){var a=
this.c.getAxisY(),e=a.getLabels();e.clear();e.add("");for(var b=this.c.getSeries().Sb();1==b.SK();){var c=b.SM().getText();null==c&&(c="");e.add(c)}a.setMin(e.Se()-1);a.setMax(0);a.setLabelValue(1);a.setStyle(a.o|512);this.b=d.D.c;this.f=d.D.d;a=this.c.l;e=a.e;b=a.f;for(c=0;c<e;c++)for(var f=0;f<b;f++){var l=a.getItem(c,f);1E108!=l&&(this.b=d.a.p(this.b,l),this.f=d.a.o(this.f,l))}this.j=this.f-this.b},ic4:function(a,c,b,d){return!1},ieJ:function(a,c){var b=new d._p1(this.g);c.ieY(b,"LegendHeight",
3);this.g=b.a;b.a=this.n;c.ieS(b,"Template");this.n=b.a;this.a=c.ie3("GradientStops",this.a,"ColorGradientCollection",4)},p:function(a){a=a.a;a.b=8;0==this.j&&this.l();a.f=this.b;a.g=this.f;0==a.c&&(a.c=35);return null},ic5:function(a,c,b,d,f){return!1}};u._dt("heatmap.HeatMap",d.SA,0,c.icp,c.icV,c.ic0,c.iec,c.i_n,c.ieI)})();
